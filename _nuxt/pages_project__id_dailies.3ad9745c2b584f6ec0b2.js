webpackJsonp([9],{"6jIa":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-card-text",{class:{"secondary darken-1":t.lightOut,"grey lighten-3":!t.lightOut},staticStyle:{position:"sticky",top:"46px","z-index":"2"}},[s("v-layout",{attrs:{row:"",wrap:"","justify-space-between":"","align-center":""}},[t.isManager?s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-select",{staticStyle:{opacity:".5"},attrs:{dense:"","hide-details":"","solo-inverted":"",flat:"",items:t.team,"item-value":"id","item-text":"username",label:"project team"},scopedSlots:t._u([{key:"item",fn:function(e){return["object"!=typeof e.item?[s("v-list-tile-content",{domProps:{textContent:t._s(e.item)}})]:[s("v-list-tile-avatar",[s("img",{attrs:{src:t.useravatar(e.item.id)}})]),s("v-list-tile-content",[s("v-list-tile-title",{domProps:{innerHTML:t._s(e.item.username)}}),s("v-list-tile-sub-title",{staticClass:"caption grey--text",domProps:{innerHTML:t._s(e.item.displayName)}})],1)]]}}]),model:{value:t.selectedWorker,callback:function(e){t.selectedWorker=e},expression:"selectedWorker"}},[s("v-list-tile",{attrs:{slot:"prepend-item",disabled:""},slot:"prepend-item"},[s("v-list-tile-avatar",{attrs:{color:"primary title"}},[t._v("\n              M\n            ")]),s("v-list-tile-content",[s("v-list-tile-title",[s("span",{staticClass:"subheading primary--text"},[t._v(t._s(t.loggedUserObj.username))]),t._v(" - "+t._s(t.selectionSentense[0]))]),s("v-list-tile-sub-title",{staticClass:"caption grey--text",domProps:{textContent:t._s(t.selectionSentense[1])}})],1)],1),s("v-divider",{staticClass:"my-1",attrs:{slot:"prepend-item"},slot:"prepend-item"})],1)],1):t._e(),s("v-flex",{class:{"caption text-xs-center":!0,"mt-2":t.xsOnly},attrs:{xs12:"",sm4:t.isManager,md3:t.isManager,sm12:!t.isManager}},[s("v-layout",{attrs:{row:"","justify-space-between":"","align-center":""}},[s("div",[s("span",{class:t.resultColor+"--text title"},[t._v(" "+t._s(t.coworkerResults.participation)+"%")]),s("br"),t._v(" Participation")]),s("div",[s("span",{class:t.resultColor+"--text title"},[t._v(" "+t._s(t.coworkerResults.attended))]),s("br"),t._v(" Attended")]),s("div",[s("span",{class:t.resultColor+"--text title"},[t._v(" "+t._s(t.coworkerResults.missed))]),s("br"),t._v(" Missed")]),s("div",[s("span",{class:t.resultColor+"--text title"},[t._v(" "+t._s(t.coworkerResults.total))]),s("br"),t._v(" Total")])])],1)],1)],1),s("v-divider"),t.newDaily?s("v-container",{staticClass:"px-4 pt-4 pb-2 new-daily-container",attrs:{fluid:"","grid-list-xl":""}},[s("v-layout",{attrs:{row:"","justify-center":"","align-content-start":""}},[s("v-flex",[s("v-layout",{attrs:{row:"","align-center":""}},[s("v-avatar",{attrs:{size:"48px",color:"grey lighten-4 mb-2"}},[s("img",{attrs:{src:t.loggedUserObj.picture,alt:"avatar"}})]),s("div",{staticClass:"ml-2"},[s("a",{staticClass:"primary--text subheading"},[t._v(t._s(t.loggedUserObj.username))]),s("br"),t._v("\n            "+t._s(t._f("locale")(t.newDaily.created))+" "),s("span",{staticClass:"body-2 ml-2"},[t._v("TODAY!")])]),s("v-spacer"),s("v-icon",{on:{click:function(e){t.open=!t.open}}},[t._v(t._s(t.open?"unfold_less":"unfold_more"))]),s("v-btn",{attrs:{flat:"",small:"",disabled:!t.open,color:"warning"},on:{click:function(e){return e.stopPropagation(),t.onAnswerDaily(e)}}},[t._v(" responder "),s("v-icon",{staticClass:"pl-2"},[t._v("send")])],1)],1),s("v-layout",{staticClass:"px-2 pt-2",attrs:{row:"",wrap:"","align-start":""}},t._l(3,function(e){return t.open?s("v-flex",{key:e,staticClass:"pa-0 ma-0",attrs:{xs12:""}},[s("v-textarea",{staticClass:"text-xs-right warning--text",attrs:{box:"",placeholder:"Question was not responded",rows:"2","row-height":"16",color:t.dailyColor(t.newDaily),"append-icon":t.icons[e-1],hint:"Answer for question r"+e,"persistent-hint":"",label:t.questions[e-1],"auto-grow":""},model:{value:t.newDaily["r"+e],callback:function(s){t.$set(t.newDaily,"r"+e,s)},expression:"newDaily['r'+(n)]"}})],1):t._e()}))],1)],1)],1):t._e(),s("v-divider"),s("v-card-text",{attrs:{height:"900"}},[s("v-container",{staticClass:"py-1",attrs:{fluid:"","grid-list-xl":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"followline-decorated",attrs:{xs12:""}},[t._l(t.dailies,function(e,a){return[0!==a?s("v-divider",{key:a,staticClass:"my-2 mr-5"}):t._e(),s("v-layout",{key:e.id,staticClass:"connected-left",attrs:{row:"","justify-center":"","align-content-start":""}},[s("v-flex",[s("div",{key:a},[s("v-layout",{attrs:{row:""}},[s("v-avatar",{attrs:{size:"48px",color:"grey lighten-4 mb-2"}},[s("img",{attrs:{src:t.useravatar(e.assigned),alt:"avatar"}})]),s("div",{staticClass:"ml-2"},[s("nuxt-link",{staticClass:"primary--text subheading",attrs:{to:{name:"daily-id",params:{id:e.id}}}},[t._v("\n                        "+t._s(t.username(e.assigned))+"\n                      ")]),s("br"),e.finished?s("div",{staticClass:"caption grey--text mr-2"},[t._v("\n                        responded: "+t._s(t._f("postFormat")(e.finished))+"\n                      ")]):t._e()],1),s("v-spacer")],1)],1),s("v-layout",{staticClass:"pa-2",attrs:{row:"",wrap:"","align-start":""}},t._l(3,function(a){return s("v-flex",{key:a,staticClass:"pa-0 ma-0",attrs:{xs12:""}},[s("div",[s("span",{staticClass:"caption primary--text"},[t._v(t._s(t.questions[a-1]))]),-1===e.status?s("span",{staticClass:"error--text pl-2",staticStyle:{"font-size":"10px"}},[t._v("(Question was not accepted)")]):t._e()]),s("p",{class:t.dailyColor(e)+"--text"},[t._v("\n                      "+t._s(e["r"+a]||"Question was not responded")+"\n                    ")])])}))],1),s("v-flex",{staticStyle:{"max-width":"40px"}},[s("v-layout",{staticStyle:{position:"relative"},attrs:{column:"","fill-height":"","align-center":"","justify-start":""}},[s("div",{staticClass:"caption",staticStyle:{transform:"translateY(-18px)"}},[0===a&&new Date(e.created).getDate()===(new Date).getDate()?s("span",[t._v("TODAY!")]):s("span",[t._v(t._s(t._f("locale")(e.created)))])]),s("v-icon",{class:{"success--text":1===e.status,"action-middle-1":!0},attrs:{disabled:!t.isManager},on:{click:function(s){s.stopPropagation(),t.judgeDaily({id:e.id,status:1===e.status?0:1})}}},[t._v("\n                    done_outline\n                  ")]),s("v-icon",{class:{"error--text":-1===e.status,"action-middle-2":!0},attrs:{disabled:!t.isManager},on:{click:function(s){s.stopPropagation(),t.judgeDaily({id:e.id,status:-1===e.status?0:-1})}}},[t._v("\n                    gavel\n                  ")])],1)],1)],1)]})],2)],1)],1)],1)],1)};a._withStripped=!0;var i={render:a,staticRenderFns:[]};e.a=i},OMwC:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("oYZu"),i=s("6jIa"),r=!1;var n=function(t){r||s("XJdj")},o=s("VU/8")(a.a,i.a,!1,n,"data-v-136f755c",null);o.options.__file="pages\\project\\_id\\dailies.vue",e.default=o.exports},XJdj:function(t,e,s){var a=s("tcgu");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("rjj0")("fb26028a",a,!1,{sourceMap:!1})},oYZu:function(t,e,s){"use strict";var a=s("Dd8w"),i=s.n(a),r=s("NYxO");e.a={validate:function(t){var e=t.params;return!!t.store.state.projects[e.id]},data:function(){return{dialog:!1,questions:["What did you do yesterday?","What will you do today?","Are there any impediments in the way?"],icons:["alarm_on","alarm_add","alarm_off"],selectionSentense:["you are the project manager","View project daily meetings and evaluate team progress."],selectedWorker:void 0,newDaily:void 0,open:!1}},created:function(){this.selectedWorker=this.project.team[0]},computed:i()({},Object(r.mapState)(["projects","users","loggedUser","lightOut"]),Object(r.mapGetters)(["temperColor","username","useravatar","projectDailies","loggedUserObj","mdAndUp","xsOnly"]),{project:function(){return this.projects[this.$route.params.id]},manager:function(){return this.users[this.project.manager]},team:function(){var t=this;return this.project.team.map(function(e){return t.users[e]})},assigned:function(){return this.selectedWorker?this.users[this.selectedWorker]:this.loggedUserObj},predailes:function(){var t=this.loggedUser===this.project.manager?this.selectedWorker:this.loggedUser;return(this.projectDailies(this.project.id)[t]||[]).sort(this.sortByStart())},dailies:function(){var t=this.predailes;return t.length>0&&t[0].created&&new Date(t[0].created).getDate()===(new Date).getDate()&&0===t[0].status&&this.loggedUser===t[0].assigned?(this.newDaily=i()({},t[0]),this.open=!0,t.slice(1)):t},isManager:function(){return this.loggedUser===this.project.manager},coworkerResults:function(){var t=this.newDaily&&this.loggedUser===this.selectedWorker?1:0,e=this.dailies.length+t,s=this.dailies.filter(function(t){return 1===t.status}).length;return{participation:(100*s/e).toFixed(2),attended:s,missed:e-s,total:e}},resultColor:function(){return this.temperColor(this.coworkerResults.total,this.coworkerResults.attended)}}),methods:i()({},Object(r.mapActions)(["answerDaily","judgeDaily"]),{onAnswerDaily:function(){this.answerDaily(this.newDaily),this.newDaily=void 0},dailyColor:function(t){return-1===t.status?"error":0===t.status?"warning":"success"}})}},tcgu:function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,'.v-expansion-panel__header[data-v-136f755c]{padding-left:0!important;padding-right:0!important}.connected-left[data-v-136f755c]{position:relative}.connected-left[data-v-136f755c]:after,.connected-left[data-v-136f755c]:before{content:" ";width:1px;position:absolute;background-color:#555}.connected-left[data-v-136f755c]:before{margin:2.5px 20px 20px 0;top:0;bottom:50%;right:0}.connected-left[data-v-136f755c]:after{margin:35px 20px 5px 0;top:50%;bottom:0;right:0}.action-middle-1[data-v-136f755c]{position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-35%);transform:translateX(-50%) translateY(-35%)}.action-middle-2[data-v-136f755c]{position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(70%);transform:translateX(-50%) translateY(70%)}',""])}});