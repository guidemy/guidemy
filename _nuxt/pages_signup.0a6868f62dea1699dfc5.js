webpackJsonp([12],{KRhH:function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=s("X8bW"),a=s("uI7n"),n=s("VU/8")(t.a,a.a,!1,null,null,null);n.options.__file="pages\\signup.vue",r.default=n.exports},X8bW:function(e,r,s){"use strict";var t=s("Dd8w"),a=s.n(t),n=s("M2pF"),i=s("NYxO");r.a={layout:"login",mixins:[n.b],data:function(e){return{valid:!1,newUser:{username:"",displayName:"",email:"",password:"",confirmPassword:""},usernameRules:[function(e){return!!e||"Name is required"},function(e){return!!e&&e.length<=15||"Name must be less than 10 characters"}],displayNameRules:[function(e){return e&&e.length<=25||"Required and less than 25 characters"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$/.test(e)||"E-mail must be valid"}]}},computed:a()({},Object(i.mapState)(["appLoading","appError"]),{confirmRule:function(){return this.newUser.password===this.newUser.confirmPassword},fixUserName:function(){return this.newUser.username.toLowerCase()},available:function(){var e=this;return function(){return!!e.$store.getters.available(e.fixUserName)||"User name not available"}}}),methods:a()({},Object(i.mapMutations)(["setError","clearError"]),{signup:function(){var e=this;this.$refs.form.validate()&&this.$store.dispatch("signup",a()({},this.newUser,{password:this.password})).then(function(e){}).then(function(){return e.$store.dispatch("fetchAppData")}).then(function(r){return e.$router.push("/dashboard")}).catch(function(r){console.warn(r),e.$store.dispatch("setError",{message:r.message||r})})}})}},uI7n:function(e,r,s){"use strict";var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("v-card",{staticClass:"elevation-10"},[s("v-card-title",{staticClass:"layout justify-center"},[s("div",{staticClass:"display-2 primary--text"},[e._v("Welcome to "+e._s(e.apptitle))])]),s("v-card-text",{staticClass:"caption text-xs-center"},[s("b",[e._v("Sign Up")]),e._v(" below and try "+e._s(e.apptitle)+" on your new projects.\n    "),s("hr",{staticClass:"primary my-1"}),e.appError?s("v-alert",{attrs:{value:!!e.appError,type:"error",dismissible:""}},[e._v("\n      "+e._s(e.appError.message)+"\n    ")]):e._e()],1),s("v-form",{ref:"form",on:{submit:function(r){return r.preventDefault(),e.signup(r)},keydown:function(r){if(!("button"in r)&&e._k(r.keyCode,"enter",13,r.key,"Enter"))return null;r.preventDefault()}},model:{value:e.valid,callback:function(r){e.valid=r},expression:"valid"}},[s("v-card-text",[s("v-layout",{attrs:{row:"",wrap:"","justify-space-between":"","align-center":""}},[s("v-flex",{attrs:{xs10:"",sm5:""}},[s("v-text-field",{attrs:{label:"User Name",name:"username",type:"text",rules:e.usernameRules.concat([e.available]),required:""},model:{value:e.newUser.username,callback:function(r){e.$set(e.newUser,"username","string"==typeof r?r.trim():r)},expression:"newUser.username"}})],1),s("v-flex",{attrs:{xs10:"",sm5:""}},[s("v-text-field",{attrs:{label:"Your displayed name",name:"displayname",type:"text",rules:e.displayNameRules,required:""},model:{value:e.newUser.displayName,callback:function(r){e.$set(e.newUser,"displayName","string"==typeof r?r.trim():r)},expression:"newUser.displayName"}})],1),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"Email",name:"email",type:"email",rules:e.emailRules,required:""},model:{value:e.newUser.email,callback:function(r){e.$set(e.newUser,"email","string"==typeof r?r.trim():r)},expression:"newUser.email"}})],1),s("v-flex",{attrs:{xs12:"",sm5:""}},[s("v-text-field",{attrs:{label:"Password",name:"password",type:"password",rules:[function(e){return!!e||"Password is required"}],required:""},model:{value:e.newUser.password,callback:function(r){e.$set(e.newUser,"password","string"==typeof r?r.trim():r)},expression:"newUser.password"}})],1),s("v-flex",{attrs:{xs10:"",sm5:""}},[s("v-text-field",{attrs:{label:"Confirm Password",name:"confirmPassword",type:"password",rules:[e.confirmRule],"error-messages":e.confirmRule?[]:["password confirmation not matching with password"],required:""},model:{value:e.newUser.confirmPassword,callback:function(r){e.$set(e.newUser,"confirmPassword","string"==typeof r?r.trim():r)},expression:"newUser.confirmPassword"}})],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"success",type:"submit",disabled:!e.valid}},[e._v("Register")])],1)],1),s("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:!!e.appLoading,expression:"!!appLoading"}],attrs:{color:"info",height:"2",indeterminate:!0}}),s("hr",{directives:[{name:"show",rawName:"v-show",value:!e.appLoading,expression:"!appLoading"}],staticClass:"primary my-1"}),s("v-card-actions",[s("em",[e._v("Already using "+e._s(e.apptitle)+"?")]),s("v-spacer"),s("v-btn",{attrs:{color:"primary",flat:"",nuxt:"",to:"/"}},[e._v("Sign in")])],1)],1)};t._withStripped=!0;var a={render:t,staticRenderFns:[]};r.a=a}});