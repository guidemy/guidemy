webpackJsonp([6],{CuxU:function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,'.v-expansion-panel__header[data-v-3d4de29e]{padding-left:0!important;padding-right:0!important}.connected-left[data-v-3d4de29e]{position:relative}.connected-left[data-v-3d4de29e]:after,.connected-left[data-v-3d4de29e]:before{content:" ";width:1px;position:absolute;background-color:#555}.connected-left[data-v-3d4de29e]:before{margin:2.5px 20px 20px 0;top:0;bottom:50%;right:0}.connected-left[data-v-3d4de29e]:after{margin:35px 20px 5px 0;top:50%;bottom:0;right:0}.action-middle-1[data-v-3d4de29e]{position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-35%);transform:translateX(-50%) translateY(-35%)}.action-middle-2[data-v-3d4de29e]{position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(70%);transform:translateX(-50%) translateY(70%)}',""])},"H+ng":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("mUR/"),i=s("nxc9"),r=!1;var n=function(t){r||s("NMdU")},o=s("VU/8")(a.a,i.a,!1,n,"data-v-3d4de29e",null);o.options.__file="pages\\dailymeetings\\index.vue",e.default=o.exports},NMdU:function(t,e,s){var a=s("CuxU");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("rjj0")("40234312",a,!1,{sourceMap:!1})},"mUR/":function(t,e,s){"use strict";var a=s("Dd8w"),i=s.n(a);e.a={name:"projectdailies",props:{projectid:{type:[String,Number],required:!0}},data:function(){return{dialog:!1,questions:["What did you do yesterday?","What will you do today?","Are there any impediments in the way?"],icons:["alarm_on","alarm_add","alarm_off"],selectionSentense:["you are the project manager","View project daily meetings and evaluate team progress."],selectedWorker:void 0,newDaily:void 0,open:!1}},created:function(){this.selectedWorker=this.project.team[0]},computed:{project:function(){return this.projects[this.projectid]},manager:function(){return this.users[this.project.manager]},team:function(){var t=this;return this.project.team.map(function(e){return t.users[e]})},assigned:function(){return this.selectedWorker?this.users[this.selectedWorker]:this.loggedUserObj},dailies:function(){var t=this.loggedUser===this.project.manager?this.selectedWorker:this.loggedUser,e=(this.$store.getters.projectDailies(this.project.id)[t]||[]).sort(this.sortByStart);return e.length>0&&e[0].created&&new Date(e[0].created).getDate()===(new Date).getDate()&&0===e[0].status&&this.loggedUser===e[0].assigned?(this.newDaily=i()({},e[0]),this.open=!0,e.slice(1)):e},isManager:function(){return this.loggedUser===this.project.manager},coworkerResults:function(){var t=this.newDaily&&this.loggedUser===this.selectedWorker?1:0,e=this.dailies.length+t,s=this.dailies.filter(function(t){return 1===t.status}).length;return{participation:(100*s/e).toFixed(2),attended:s,missed:e-s,total:e}},resultColor:function(){return this.temperColor(this.coworkerResults.total,this.coworkerResults.attended)}},methods:{onAnswerDaily:function(){this.answerDaily(this.newDaily),this.newDaily=void 0},dailyColor:function(t){return-1===t.status?"error":0===t.status?"warning":"success"}}}},nxc9:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:"","grid-list-xl":""}},[s("v-card",{attrs:{"max-width":""}},[s("v-toolbar",{attrs:{card:"",fixed:"",flat:"",color:"primary"}},[s("v-toolbar-title",{staticClass:"headline"},[t._v("\n      "+t._s(t.project.title)+" Daily Meetings\n      ")]),s("v-spacer"),s("v-icon",{on:{click:function(e){e.stopPropagation(),t.dialog=!t.dialog}}},[t._v("close")])],1),s("div",{staticClass:"px-3"},[s("div",{staticClass:"mt-5 pt-4"},[t._v("Description: ")]),s("p",{staticClass:"grey--text text-xs-justify"},[t._v(t._s(t.project.description))]),t.isManager?s("v-divider"):t._e(),s("v-layout",{attrs:{row:"","justify-space-between":"","align-center":""}},[t.isManager?s("v-flex",{attrs:{xs6:""}},[s("v-select",{attrs:{dense:"","hide-details":"",items:t.team,"item-value":"id","item-text":"username",label:"project team"},scopedSlots:t._u([{key:"item",fn:function(e){return["object"!=typeof e.item?[s("v-list-tile-content",{domProps:{textContent:t._s(e.item)}})]:[s("v-list-tile-avatar",[s("img",{attrs:{src:t.useravatar(e.item.id)}})]),s("v-list-tile-content",[s("v-list-tile-title",{domProps:{innerHTML:t._s(e.item.username)}}),s("v-list-tile-sub-title",{staticClass:"caption grey--text",domProps:{innerHTML:t._s(e.item.displayName)}})],1)]]}}]),model:{value:t.selectedWorker,callback:function(e){t.selectedWorker=e},expression:"selectedWorker"}},[s("v-list-tile",{attrs:{slot:"prepend-item",disabled:""},slot:"prepend-item"},[s("v-list-tile-avatar",{attrs:{color:"primary title"}},[t._v("\n                M\n              ")]),s("v-list-tile-content",[s("v-list-tile-title",[s("span",{staticClass:"subheading primary--text"},[t._v(t._s(t.loggedUserObj.username))]),t._v(" - "+t._s(t.selectionSentense[0]))]),s("v-list-tile-sub-title",{staticClass:"caption grey--text",domProps:{textContent:t._s(t.selectionSentense[1])}})],1)],1),s("v-divider",{staticClass:"my-1",attrs:{slot:"prepend-item"},slot:"prepend-item"})],1)],1):t._e(),s("v-flex",{staticClass:"caption text-xs-center",attrs:{xs6:t.isManager,xs12:!t.isManager}},[s("v-layout",{attrs:{row:"","justify-end":t.isManager,"justify-center":!t.isManager,"align-center":""}},[s("div",{class:{"py-3 ml-5":t.isManager,"px-4 py-3":!t.isManager}},[s("span",{class:t.resultColor+"--text title"},[t._v(" "+t._s(t.coworkerResults.participation)+"%")]),s("br"),t._v(" Participation")]),s("div",{class:{"py-3 ml-5":t.isManager,"px-4 py-3":!t.isManager}},[s("span",{class:t.resultColor+"--text title"},[t._v(" "+t._s(t.coworkerResults.attended))]),s("br"),t._v(" Attended")]),s("div",{class:{"py-3 ml-5":t.isManager,"px-4 py-3":!t.isManager}},[s("span",{class:t.resultColor+"--text title"},[t._v(" "+t._s(t.coworkerResults.missed))]),s("br"),t._v(" Missed")]),s("div",{class:{"py-3 ml-5":t.isManager,"px-4 py-3":!t.isManager}},[s("span",{class:t.resultColor+"--text title"},[t._v(" "+t._s(t.coworkerResults.total))]),s("br"),t._v(" Total")])])],1)],1)],1),s("v-divider"),t.newDaily?s("v-container",{staticClass:"px-4 pt-4 pb-2 new-daily-container",attrs:{"grid-list-xl":""}},[s("v-layout",{attrs:{row:"","justify-center":"","align-content-start":""}},[s("v-flex",[s("v-layout",{attrs:{row:"","align-center":""}},[s("v-avatar",{attrs:{size:"48px",color:"grey lighten-4 mb-2"}},[s("img",{attrs:{src:t.loggedUserObj.picture,alt:"avatar"}})]),s("div",{staticClass:"ml-2"},[s("a",{staticClass:"primary--text subheading"},[t._v(t._s(t.loggedUserObj.username))]),s("br"),t._v("\n              "+t._s(new Date(t.newDaily.created).toLocaleDateString())+" "),s("span",{staticClass:"body-2 ml-2"},[t._v("TODAY!")])]),s("v-spacer"),s("v-icon",{on:{click:function(e){t.open=!t.open}}},[t._v(t._s(t.open?"unfold_less":"unfold_more"))]),s("v-btn",{attrs:{flat:"",small:"",disabled:!t.open,color:"warning"},on:{click:function(e){return e.stopPropagation(),t.onAnswerDaily(e)}}},[t._v(" responder "),s("v-icon",{staticClass:"pl-2"},[t._v("send")])],1)],1),s("v-layout",{staticClass:"px-2 pt-2",attrs:{row:"",wrap:"","align-start":""}},t._l(3,function(e){return t.open?s("v-flex",{key:e,staticClass:"pa-0 ma-0",attrs:{xs12:""}},[s("v-textarea",{staticClass:"text-xs-right",attrs:{rows:"2","row-height":"16","background-color":t.dailyColor(t.newDaily),outline:"","append-outer-icon":t.icons[e-1],hint:"Answer for question r"+e,"persistent-hint":"",label:t.questions[e-1],"auto-grow":!0},model:{value:t.newDaily["r"+e],callback:function(s){t.$set(t.newDaily,"r"+e,s)},expression:"newDaily['r'+(n)]"}})],1):t._e()}))],1)],1)],1):t._e(),s("v-divider"),s("v-card-text",{attrs:{height:"900"}},[s("v-container",{staticClass:"py-1",attrs:{"grid-list-xl":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"followline-decorated",attrs:{xs12:""}},[t._l(t.dailies,function(e,a){return[0!==a?s("v-divider",{key:a,staticClass:"my-2 mr-5"}):t._e(),s("v-layout",{key:e.id,staticClass:"connected-left",attrs:{row:"","justify-center":"","align-content-start":""}},[s("v-flex",[s("div",{key:a},[s("v-layout",{attrs:{row:""}},[s("v-avatar",{attrs:{size:"48px",color:"grey lighten-4 mb-2"}},[s("img",{attrs:{src:t.useravatar(e.assigned),alt:"avatar"}})]),s("div",{staticClass:"ml-2"},[s("a",{staticClass:"primary--text subheading"},[t._v(t._s(t.username(e.assigned)))]),s("br"),e.finished?s("div",{staticClass:"caption grey--text mr-2"},[t._v("\n                          responded at: "+t._s(t._f("postFormat")(e.finished))+"\n                        ")]):t._e()]),s("v-spacer")],1)],1),s("v-layout",{staticClass:"pa-2",attrs:{row:"",wrap:"","align-start":""}},t._l(3,function(a){return s("v-flex",{key:a,staticClass:"pa-0 ma-0",attrs:{xs12:""}},[s("v-textarea",{staticClass:"text-xs-right",attrs:{rows:"2","row-height":"16","background-color":t.dailyColor(e),outline:"",disabled:-1===e.status,readonly:-1!==e.status,"append-outer-icon":t.icons[a-1],hint:"Answer for question r"+a,placeholder:-1===e.status?"Question was not responded":"","persistent-hint":"",label:t.questions[a-1],value:e["r"+a],"auto-grow":!0}})],1)}))],1),s("v-flex",{staticStyle:{"max-width":"40px"}},[s("v-layout",{staticStyle:{position:"relative"},attrs:{column:"","fill-height":"","align-center":"","justify-start":""}},[s("div",{staticClass:"caption",staticStyle:{transform:"translateY(-18px)"}},[0===a&&new Date(e.created).getDate()===(new Date).getDate()?s("span",[t._v("TODAY!")]):s("span",[t._v(t._s(new Date(e.created).toLocaleDateString()))])]),s("v-icon",{class:{"success--text":1===e.status,"action-middle-1":!0},attrs:{disabled:!t.isManager},on:{click:function(s){s.stopPropagation(),t.judgeDaily({id:e.id,status:1===e.status?0:1})}}},[t._v("\n                        done_outline\n                      ")]),s("v-icon",{class:{"error--text":-1===e.status,"action-middle-2":!0},attrs:{disabled:!t.isManager},on:{click:function(s){s.stopPropagation(),t.judgeDaily({id:e.id,status:-1===e.status?0:-1})}}},[t._v("\n                        gavel\n                      ")])],1)],1)],1)]})],2)],1)],1)],1),s("v-card-actions",{staticClass:"pl-4"},[s("v-spacer"),s("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.dialog=!1}}},[t._v("Back")])],1)],1)],1)};a._withStripped=!0;var i={render:a,staticRenderFns:[]};e.a=i}});