webpackJsonp([11],{KRhH:function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t=r("uMZp"),a=r("uI7n"),n=r("VU/8")(t.a,a.a,!1,null,null,null);n.options.__file="pages\\signup.vue",s.default=n.exports},uI7n:function(e,s,r){"use strict";var t=function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("v-card",{staticClass:"elevation-10"},[r("v-card-title",{staticClass:"layout justify-center"},[r("div",{staticClass:"display-2 primary--text"},[e._v("Welcome to "+e._s(e.apptitle))])]),r("v-card-text",{staticClass:"caption text-xs-center"},[r("b",[e._v("Sign Up")]),e._v(" below and try "+e._s(e.apptitle)+" on your new projects.\n    "),r("hr",{staticClass:"primary my-1"}),e.appError?r("v-alert",{attrs:{value:!!e.appError,type:"error",dismissible:""}},[e._v("\n      "+e._s(e.appError.message)+"\n    ")]):e._e()],1),r("v-form",{ref:"form",on:{submit:function(s){return s.preventDefault(),e.signup(s)},keydown:function(s){if(!("button"in s)&&e._k(s.keyCode,"enter",13,s.key,"Enter"))return null;s.preventDefault()}},model:{value:e.valid,callback:function(s){e.valid=s},expression:"valid"}},[r("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[r("v-flex",{attrs:{xs10:"",sm5:""}},[r("v-text-field",{attrs:{label:"User Name",name:"username",type:"text",rules:e.usernameRules.concat([e.available]),required:""},model:{value:e.newUser.username,callback:function(s){e.$set(e.newUser,"username","string"==typeof s?s.trim():s)},expression:"newUser.username"}})],1),r("v-flex",{attrs:{xs10:"",sm5:""}},[r("v-text-field",{attrs:{label:"Your displayed name",name:"displayname",type:"text",rules:e.displayNameRules,required:""},model:{value:e.newUser.displayName,callback:function(s){e.$set(e.newUser,"displayName","string"==typeof s?s.trim():s)},expression:"newUser.displayName"}})],1),r("v-flex",{attrs:{xs10:""}},[r("v-text-field",{attrs:{label:"Email",name:"email",type:"email",rules:e.emailRules,required:""},model:{value:e.newUser.email,callback:function(s){e.$set(e.newUser,"email","string"==typeof s?s.trim():s)},expression:"newUser.email"}})],1),r("v-flex",{attrs:{xs10:"",sm5:""}},[r("v-text-field",{attrs:{label:"Password",name:"password",type:"password",rules:[function(e){return!!e||"Password is required"}],required:""},model:{value:e.newUser.password,callback:function(s){e.$set(e.newUser,"password","string"==typeof s?s.trim():s)},expression:"newUser.password"}})],1),r("v-flex",{attrs:{xs10:"",sm5:""}},[r("v-text-field",{attrs:{label:"Confirm Password",name:"confirmPassword",type:"password",rules:[e.confirmRule],"error-messages":e.confirmRule?[]:["password confirmation not matching with password"],required:""},model:{value:e.newUser.confirmPassword,callback:function(s){e.$set(e.newUser,"confirmPassword","string"==typeof s?s.trim():s)},expression:"newUser.confirmPassword"}})],1),r("v-flex",{attrs:{xs11:""}},[r("v-layout",[r("v-spacer"),r("v-btn",{attrs:{color:"success",type:"submit",disabled:!e.valid}},[e._v("Register")])],1)],1)],1)],1),r("hr",{staticClass:"primary my-1"}),r("v-card-actions",[r("em",[e._v("Already using "+e._s(e.apptitle)+"?")]),r("v-spacer"),r("v-btn",{attrs:{color:"primary",flat:"",nuxt:"",to:"/"}},[e._v("Sign in")])],1)],1)};t._withStripped=!0;var a={render:t,staticRenderFns:[]};s.a=a},uMZp:function(e,s,r){"use strict";var t=r("Dd8w"),a=r.n(t),n=r("M2pF");s.a={layout:"login",mixins:[n.b],data:function(e){return{valid:!1,newUser:{username:"",displayName:"",email:"",password:"",confirmPassword:""},usernameRules:[function(e){return!!e||"Name is required"},function(e){return!!e&&e.length<=15||"Name must be less than 10 characters"}],displayNameRules:[function(e){return e&&e.length<=25||"Required and less than 25 characters"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$/.test(e)||"E-mail must be valid"}]}},computed:{confirmRule:function(){return this.newUser.password===this.newUser.confirmPassword},fixUserName:function(){return this.newUser.username.toLowerCase()},available:function(){var e=this;return function(){return!!e.$store.getters.available(e.fixUserName)||"User name not available"}}},methods:{signup:function(){var e=this;this.$refs.form.validate()&&this.$store.dispatch("signup",a()({},this.newUser,{password:this.password})).then(function(s){console.log(s),e.$router.push("/dashboard")}).catch(function(s){e.$store.dispatch("setError",{message:s.message})})}}}}});